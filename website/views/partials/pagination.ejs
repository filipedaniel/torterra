<div id="pagination-content">
  
  <nav>
    <ul class="pagination justify-content-center">
      <% 
      if (page == 1) { %>
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      <% } else { %>
        <li class="page-item">
          <a class="page-link" 
            href="<%= url %>?page=<%= page - 1 %><%= query %>" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      <% } %>

<% 
      var i = page - 2 <= 1 ? 1 : page - 2; 
      if (i > 1) { %>
        <li class="page-item"><a class="page-link" href="#">...</a></li>
        <% } %>
      <% for ( ;  i < page ; i++) { %>
        <li class="page-item">
          <a class="page-link" href="<%= url %>?page=<%= i %><%= query  %>">
            <%= i %>
          </a>
        </li>
      <% } %>
      
      <li class="page-item active"><a class="page-link" href="#"><%= page %></a></li>
      <%
      i = page + 1; %>
      <%
      for ( ; i <= page + 2 && i <= pages; i++) { %>
        <li class="page-item">
          <a class="page-link" href="<%= url %>?page=<%= i %><%= query  %>">
            <%= i %>
          </a>
        </li>
      <% } %>
      <% if (i <= pages ) { %>
        <li class="page-item"><a class="page-link" href="#">...</a></li>
      <% } %>

      
      <% if (page == pages) { %>
        <li class="page-item disabled">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      <% } else { %>
        <li class="page-item">
            <a class="page-link" href="<%= url %>?page=<%= page + 1 %><%= query  %>" aria-label="Previous">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
      <% } %>
    </ul>
  </nav>
</div>